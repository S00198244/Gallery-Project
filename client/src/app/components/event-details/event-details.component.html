<div style="min-height: 80vh;">
<div class="row justify-content-center" style="text-align: center; color: white; padding: 2em;">
    <div class="col-6">
        <h1>{{ artEvent$?.title}}</h1>
    </div>
</div>

<div class="row" style="color: white;">
    <div class="col">
        <p>{{artEvent$?.summary}}</p>
    </div>
</div>

<div class="row g-5" style="margin-top: 1em; margin-bottom: 1em;">

    <h3 style="color: white;">Featured Artwork</h3>

    <div class="col-sm-4" *ngFor="let artPiece of eventArtPieces">

        <img class="img-thumbnail" src={{artPiece.primaryImageSmall}} alt="Artwork">

    </div>
</div>

<div class="row g-2" style="margin-top: 1em; margin-bottom: 1em;">

    <h3 style="color: white;">Comments</h3>

    <div class="col-12" *ngFor="let comment of comments" (click)="clicked(comment)">
        <div class="card">
            <div class="card-body">
                <div class="row" *ngIf="userID$ == comment.userID">
                    <div class="col-9">
                        {{comment.userName}}
                    </div>
                    <div class="col-3">

                        <div class="dropdown">
                            <a class="btn btn-outline-dark dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-three-dots-vertical" viewBox="0 0 16 16">
                                    <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path>
                                </svg>
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                                <li><a class="dropdown-item" (click)="showEditCommentForm()">Edit</a></li>
                                <li><a class="dropdown-item" (click)="deleteComment(comment)">Delete</a></li>
                            </ul>
                            </div>
                    </div>
                </div>
                <p class="card-text">{{comment.text}}</p>
                <!-- <p class="card-text">{{comment.userID}}</p> -->
            </div>
            </div>
    </div>
</div>

<div class="row" style="margin-top: 1em; margin-bottom: 1em;"> 
    <div class="col">
        <form [formGroup]="commentForm">

            <textarea class="form-control" formControlName="comment" placeholder="Enter comment" rows="2"></textarea>

            <button type="button" class="btn btn-light" (click)="addComment()" style="margin-top: 1em;" [disabled]="!userID$">Comment</button>
        </form>
    </div>
</div>
</div>
